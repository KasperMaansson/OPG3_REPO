{"version":3,"sources":["myHaverSine.js","pagedraw/mainpush.js","Lokation.js","GeoPushComponent.js","App.js","index.js"],"names":["toRad","Value","Math","PI","Mainpush","react_default","a","createElement","className","this","props","textToFirstTitle","textToFirstDist","textToFirstDesc","textToSecond","textToThird","React","Component","Lokation","lokationName","latitude","longitude","openingHrs","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","distanceTo","GeoPushComponent","state","GeoOptions","enableHighAccuracy","timeout","maximumAge","distanceFilter","console","log","watchId","navigator","geolocation","watchPosition","GeoUpdatePositionData","GeoError","clearWatch","lokation2","lokation3","lokation1","geoLokationer","Array","App","e","updatePostionData","bind","assertThisInitialized","geoError","position","i","length","theDistance","lat1","coords","lat2","lon1","lon2","dLat","dLon","lat1r","lat2r","sin","cos","atan2","sqrt","setState","err","message","property","sortOrder","substr","b","lokationer","sort","dynamicSort","mainpush_Mainpush","findClosestLokation","round","src_GeoPushComponent","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b4f5b767.chunk.js","sourcesContent":["// Tomasok,\n// Return distance between 2 pairs of latitude,longitude coordinates in kilometers\n\nexport default function haverDistance(lat1,lat2,lon1,lon2)\n{\n\n    let R = 6371; // km radius of planet earth\n    let dLat = toRad((lat2-lat1));\n    let dLon = toRad((lon2-lon1));\n    let lat1r = toRad(lat1);\n    let lat2r = toRad(lat2);\n\n    let a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n        Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1r) * Math.cos(lat2r);\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    let d = R * c;\n\n    return d; // in kilometers\n}\n\nfunction toRad(Value)\n{\n    /** Converts numeric degrees to radians */\n    return Value * Math.PI / 180;\n}\n\n\n","// Generated by https://pagedraw.io/pages/14599\nimport React from 'react';\nimport './mainpush.css';\n\n\nexport default class Mainpush extends React.Component {\n  render() {\n    return (\n      <div className=\"mainpush-mainpush-0\">\n          <div className=\"mainpush-0\">\n              <div className=\"mainpush-spis_restaden_-3\">\n                  {\"SPIS ØRESTADEN\"}\n              </div>\n          </div>\n          <div className=\"mainpush-1\">\n              <div className=\"mainpush-rectangle-2\">\n                  <div className=\"mainpush-1-0-0\">\n                      <div className=\"mainpush-text-6\">\n                          { this.props.textToFirstTitle }\n                      </div>\n                  </div>\n                  <div className=\"mainpush-1-0-1\">\n                      <div className=\"mainpush-text-5\">\n                          { this.props.textToFirstDist }\n                      </div>\n                  </div>\n                  <div className=\"mainpush-1-0-2\">\n                      <div className=\"mainpush-text-7\">\n                          { this.props.textToFirstDesc }\n                      </div>\n                  </div>\n              </div>\n          </div>\n          <div className=\"mainpush-2\">\n              <div className=\"mainpush-rectangle-3\">\n                  <div className=\"mainpush-2-0-0\">\n                      <div className=\"mainpush-text-8\">\n                          {\"Lidt længere væk:\"}\n                      </div>\n                  </div>\n                  <div className=\"mainpush-2-0-1\">\n                      <div className=\"mainpush-text-9\">\n                          { this.props.textToSecond }\n                      </div>\n                  </div>\n              </div>\n          </div>\n          <div className=\"mainpush-3\">\n              <div className=\"mainpush-rectangle-8\">\n                  <div className=\"mainpush-3-0-0\">\n                      <div className=\"mainpush-text-78\">{\"Længst væk:\"}</div>\n                  </div>\n                  <div className=\"mainpush-3-0-1\">\n                      <div className=\"mainpush-text-4\">\n                          { this.props.textToThird }\n                      </div>\n                  </div>\n              </div>\n          </div>\n          <div className=\"mainpush-4\" /> \n      </div>\n    );\n  }\n};\n","import React, { Component } from 'react';\n//import haverDistance from './myHaverSine.js';\n//import GeoPushComponent from './GeoPushComponent.js';\n\nclass Lokation extends React.Component {\n    constructor(lokationName, latitude, longitude, openingHrs){\n        super()\n        this.distanceTo=0;\n        this.lokationName = lokationName;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.openingHrs = openingHrs;\n    };\n}\nexport default Lokation;\n","import  React, { Component } from 'react';\n\nclass GeoPushComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {  };\n    this.GeoOptions = { enableHighAccuracy: true, timeout: 20000, maximumAge: 0, distanceFilter: 1};\n  }\n// take function from owner of componemt as prop and assign it as callback \n\n\n// Playing it nice - waiting for compoennt to  mount the DOM eventhough we don't have anything to display as component\n\ncomponentDidMount(){\n  console.log('ComponentDidMount MyGeo2');\n  console.log(this.props);\n\n  this.watchId = navigator.geolocation.watchPosition(\n    this.props.GeoUpdatePositionData,\n    this.props.GeoError,\n    this.GeoOptions\n  );\n} \n\n// And cleaning up when we are done using the component\n  componentWillUnmount() {\n    navigator.geolocation.clearWatch(this.watchId);\n  }\n\n// A special kind of component that doesn't actually srender anything but ship results to owner of the component\n// Just want to be part of the React component family\n  render() {\n    return null;\n  }\n}\n\nexport default GeoPushComponent;\n","import React, { Component } from 'react';\nimport haverDistance from './myHaverSine.js';\nimport Mainpush from './pagedraw/mainpush';\nimport Lokation from './Lokation';\nimport GeoPushComponent from './GeoPushComponent.js';\n\n//HARDCODEDE LOKATIONER M. INFO\nvar lokation2 = new Lokation('Rundetårn',55.681346, 12.575795,'07.30 - 16.30');\nvar lokation3 = new Lokation('Trianglen',55.699414, 12.577471);\nvar lokation1 = new Lokation('Svanemøllen',55.715519, 12.577928);\n//ARRAY MED LOKATIONER\nvar geoLokationer = new Array(Lokation);\ngeoLokationer = [lokation1, lokation2, lokation3];\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      latitude:0,\n      longitude:0\n    };\n    \n    this.e = null;\n    this.updatePostionData = this.updatePostionData.bind(this);\n    this.geoError = this.geoError.bind(this);\n  }\n\n  //funktioner til Geo\n  updatePostionData(position) {\n    for (let i = 0 ; i < geoLokationer.length ; i++){\n      let theDistance = haverDistance(position.coords.latitude, geoLokationer[i].latitude, position.coords.longitude, geoLokationer[i].longitude);\n      geoLokationer[i].distanceTo = theDistance;\n    }\n    this.setState({longitude: position.coords.longitude, latitude: position.coords.longitude}) \n  }\n\n  //GEO ERROR (?)\n  geoError(err) {\n    this.e = err.message;\n  }\n\n  //METODE DER BRUGES I \"FINDCLOSESTLOKATION\"\n  dynamicSort(property) {\n    var sortOrder = 1;\n    if(property[0] === \"-\") {\n        sortOrder = -1;\n        property = property.substr(1);\n    }\n    return function (a,b) {\n        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;\n        return result * sortOrder;\n    }\n  }\n  //METODE DER SORTERER VORES ARRAY VIA \"DYNAMIC SORT\" EFTER DISTANCE OG RETURNERER DET, SORTERET\n  findClosestLokation(lokationer){\n    lokationer.sort(this.dynamicSort('distanceTo'));\n   return lokationer;\n  }\n\n  //DET DER VISES PÅ SKÆRMEN\n  render() {\n    return (\n      <div>\n        <Mainpush\n          textToFirstTitle = {'Tættest på dig: '+this.findClosestLokation(geoLokationer)[0].lokationName}       \n          textToFirstDist = {'Distance: '+Math.round(1000*this.findClosestLokation(geoLokationer)[0].distanceTo)+'m'}\n          textToFirstDesc = {'Åbningstid i dag: '+geoLokationer[0].openingHrs}\n\n\n\n          textToSecond = {this.findClosestLokation(geoLokationer)[1].lokationName +' : '+Math.round(1000*this.findClosestLokation(geoLokationer)[1].distanceTo)+'m'}\n          textToThird = {this.findClosestLokation(geoLokationer)[2].lokationName +' : '+Math.round(1000*this.findClosestLokation(geoLokationer)[2].distanceTo)+'m'}/>\n        \n        <GeoPushComponent GeoUpdatePositionData={this.updatePostionData} GeoError={this.geoError}/>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}